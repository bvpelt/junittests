<p>title: {{ title }}</p>

<p>
  see
  <a id="githubref" href="{{ ref }}">{{ title }}</a>
</p>

<div class="row">
  <!-- FIX: Replaced old 'col-md-offset-4' with modern 'col-md-6 mx-auto' for centering and better responsiveness -->
  <div
    class="col-12 col-md-6 mx-auto card p-4"
    style="margin-top: 50px; border: 1px solid rgb(100, 98, 98)"
  >
    <form
      class="form-horizontal"
      name="loginForm"
      role="form"
      #loginForm="ngForm"
      (ngSubmit)="onFormSubmit()"
    >
      <fieldset>
        <legend class="text-center mb-4">
          User Login: Template Driven Form
        </legend>

        <div class="form-group mb-3">
          <label class="col-form-label" for="useremail">Email Id</label>
          <div>
            <input
              type="text"
              [(ngModel)]="model.email"
              [class.is-invalid]="email.invalid && loginForm.submitted"
              required
              name="usermail1"
              #email="ngModel"
              placeholder="Enter Email Id"
              class="form-control"
              id="useremail"
              pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
            />

            <!-- FIX: Replaced *ngIf with @if -->
            @if (email.invalid && loginForm.submitted) {
            <!-- Using d-block to force invalid-feedback visibility -->
            <div class="invalid-feedback d-block">
              <span style="color: red">Please Enter Email Id.</span>
            </div>
            }

            <!-- FIX: Replaced *ngIf with @if -->
            @if (email.touched) {
            <div class="text-danger mt-1">
              <!-- FIX: Replaced *ngIf with @if -->
              @if (email.errors?.['required']) {
              <p class="mb-0">Email is a required field!</p>
              }
              <!-- FIX: Replaced *ngIf with @if -->
              @if (email.errors?.['pattern']) {
              <p class="mb-0">This is not a valid Email!</p>
              }
            </div>
            }
          </div>
        </div>

        <div class="form-group mb-3">
          <label class="col-form-label" for="password">Password</label>
          <div>
            <input
              type="password"
              [(ngModel)]="model.password"
              [class.is-invalid]="password.invalid && loginForm.submitted"
              required
              name="password"
              #password="ngModel"
              placeholder="Enter password"
              class="form-control"
              id="password"
            />

            <!-- FIX: Replaced *ngIf with @if -->
            @if (password.invalid && loginForm.submitted) {
            <div class="invalid-feedback d-block">
              <span style="color: red">Please Enter password</span>
            </div>
            }
          </div>
        </div>

        <div class="form-group mb-3 form-check">
          <input
            type="checkbox"
            [(ngModel)]="model.aggrement"
            [class.is-invalid]="aggrement.invalid && loginForm.submitted"
            required
            name="aggrement"
            #aggrement="ngModel"
            class="form-check-input"
            id="aggrement"
          />
          <label class="form-check-label" for="aggrement"
            >I agree to Terms & Conditions</label
          >

          <!-- FIX: Replaced *ngIf with @if -->
          @if (aggrement.invalid && loginForm.submitted) {
          <div class="text-danger mt-1">
            Please Agree with Terms & Conditions
          </div>
          }
        </div>

        <div class="form-group mt-4">
          <!-- FIX: Used d-flex and justify-content-end for modern button alignment -->
          <div class="d-flex justify-content-end gap-2">
            <button type="submit" class="btn btn-primary">Save</button>
            <button type="reset" class="btn btn-secondary">Reset</button>
          </div>
        </div>
      </fieldset>
    </form>
  </div>
</div>
